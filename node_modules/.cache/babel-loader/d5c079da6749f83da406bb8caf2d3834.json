{"ast":null,"code":"import * as loginConst from \"../constrants/loginConst\";\nimport * as myToast from \"../../../Common/helper/toastHelper\";\nconst initialState = {\n  hasLogined: false,\n  email: \"\",\n  password: \"\",\n  customer: {}\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case loginConst.POST_LOGIN:\n      {\n        return { ...state,\n          hasLogined: false,\n          email: \"\",\n          password: \"\",\n          customer: {}\n        };\n      }\n\n    case loginConst.POST_LOGIN_SUCCESS:\n      {\n        const {\n          data\n        } = action.payload;\n        const username = data.username;\n        const password = data.password;\n        localStorage.setItem(\"hasLogined\", true);\n        localStorage.setItem(\"email\", username);\n        localStorage.setItem(\"password\", password);\n        myToast.toastSucces(\"Đăng nhập thành công\");\n        console.log(\"taikhoan\" + JSON.stringify(data));\n        return { ...state,\n          hasLogined: true,\n          email: data.email,\n          password: data.password,\n          customer: data\n        };\n      }\n\n    case loginConst.POST_LOGIN_FAILED:\n      {\n        myToast.toastError(\"Đăng nhập thất bại\");\n        localStorage.setItem(\"hasLogined\", false);\n        return { ...state,\n          hasLogined: false,\n          email: \"\",\n          password: \"\",\n          customer: {}\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/framework_IS220.M11_6/lavender/src/Components/redux/reducers/login.js"],"names":["loginConst","myToast","initialState","hasLogined","email","password","customer","reducer","state","action","type","POST_LOGIN","POST_LOGIN_SUCCESS","data","payload","username","localStorage","setItem","toastSucces","console","log","JSON","stringify","POST_LOGIN_FAILED","toastError"],"mappings":"AAAA,OAAO,KAAKA,UAAZ,MAA4B,0BAA5B;AACA,OAAO,KAAKC,OAAZ,MAAyB,oCAAzB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,UAAU,EAAE,KADO;AAEnBC,EAAAA,KAAK,EAAE,EAFY;AAGnBC,EAAAA,QAAQ,EAAE,EAHS;AAInBC,EAAAA,QAAQ,EAAC;AAJU,CAArB;;AAMA,MAAMC,OAAO,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAChD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,UAAU,CAACW,UAAhB;AAA4B;AAC1B,eAAO,EAAE,GAAGH,KAAL;AAAYL,UAAAA,UAAU,EAAE,KAAxB;AAA+BC,UAAAA,KAAK,EAAE,EAAtC;AAA0CC,UAAAA,QAAQ,EAAE,EAApD;AAAwDC,UAAAA,QAAQ,EAAC;AAAjE,SAAP;AACD;;AACD,SAAKN,UAAU,CAACY,kBAAhB;AAAoC;AAClC,cAAM;AAAEC,UAAAA;AAAF,YAAWJ,MAAM,CAACK,OAAxB;AACA,cAAMC,QAAQ,GAAGF,IAAI,CAACE,QAAtB;AACA,cAAMV,QAAQ,GAAIQ,IAAI,CAACR,QAAvB;AACAW,QAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,IAAnC;AACAD,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,QAA9B;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCZ,QAAjC;AACAJ,QAAAA,OAAO,CAACiB,WAAR,CAAoB,sBAApB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAWC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAAvB;AACA,eAAO,EACL,GAAGL,KADE;AAELL,UAAAA,UAAU,EAAE,IAFP;AAGLC,UAAAA,KAAK,EAAES,IAAI,CAACT,KAHP;AAILC,UAAAA,QAAQ,EAAEQ,IAAI,CAACR,QAJV;AAKLC,UAAAA,QAAQ,EAACO;AALJ,SAAP;AAOD;;AACD,SAAKb,UAAU,CAACuB,iBAAhB;AAAmC;AACjCtB,QAAAA,OAAO,CAACuB,UAAR,CAAmB,oBAAnB;AACAR,QAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,KAAnC;AACA,eAAO,EAAE,GAAGT,KAAL;AAAYL,UAAAA,UAAU,EAAE,KAAxB;AAA+BC,UAAAA,KAAK,EAAE,EAAtC;AAA0CC,UAAAA,QAAQ,EAAE,EAApD;AAAyDC,UAAAA,QAAQ,EAAC;AAAlE,SAAP;AACD;;AACD;AACE,aAAOE,KAAP;AA3BJ;AA6BD,CA9BD;;AA+BA,eAAeD,OAAf","sourcesContent":["import * as loginConst from \"../constrants/loginConst\";\nimport * as myToast from \"../../../Common/helper/toastHelper\";\n\nconst initialState = {\n  hasLogined: false,\n  email: \"\",\n  password: \"\",\n  customer:{}\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case loginConst.POST_LOGIN: {\n      return { ...state, hasLogined: false, email: \"\", password: \"\", customer:{} };\n    }\n    case loginConst.POST_LOGIN_SUCCESS: {\n      const { data } = action.payload;\n      const username=  data.username;\n      const password =  data.password;\n      localStorage.setItem(\"hasLogined\", true);\n      localStorage.setItem(\"email\", username);\n      localStorage.setItem(\"password\", password);\n      myToast.toastSucces(\"Đăng nhập thành công\");\n      console.log(\"taikhoan\"+JSON.stringify(data));\n      return {\n        ...state,\n        hasLogined: true,\n        email: data.email,\n        password: data.password,\n        customer:data\n      };\n    }\n    case loginConst.POST_LOGIN_FAILED: {\n      myToast.toastError(\"Đăng nhập thất bại\");\n      localStorage.setItem(\"hasLogined\", false);\n      return { ...state, hasLogined: false, email: \"\", password: \"\" , customer:{}};\n    }\n    default:\n      return state;\n  }\n};\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}