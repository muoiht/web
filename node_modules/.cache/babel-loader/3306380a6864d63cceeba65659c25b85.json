{"ast":null,"code":"import * as cartConst from \"../constrants/cartConst\";\nimport * as myToast from \"../../../Common/helper/toastHelper\";\nconst initialState = {\n  cart: []\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let history = arguments.length > 2 ? arguments[2] : undefined;\n\n  switch (action.type) {\n    case cartConst.ADD_TO_LOGIN:\n      {\n        history.push(\"/login\");\n        return { ...state\n        };\n      }\n\n    case cartConst.ADD_TO_CART:\n      {\n        return { ...state\n        };\n      }\n\n    case cartConst.ADD_TO_CART_SUCCESS:\n      {\n        const {\n          data\n        } = action.payload.data;\n        const product = data.product;\n        myToast.toastSucces(\"Thêm vào giỏ hàng thành công\");\n        return {\n          cart: { ...state,\n            product\n          }\n        };\n      }\n\n    case cartConst.ADD_TO_CART_FAILED:\n      {\n        myToast.toastError(\"Thêm vào giỏ hàng thất bại\");\n        return { ...state\n        };\n      }\n\n    case cartConst.LOAD_CART:\n      {\n        return { ...state\n        };\n      }\n\n    case cartConst.LOAD_CART_SUCCESS:\n      {\n        const {\n          data\n        } = action.payload;\n        let cart = data.value.$values;\n        return {\n          cart: { ...state,\n            cart: cart\n          }\n        };\n      }\n\n    case cartConst.LOAD_CART_FAILED:\n      {\n        myToast.toastError(\"Tải giỏ hàng thất bại\");\n        console.log(\"errorcart\" + JSON.stringify(action.payload));\n        return { ...state\n        };\n      }\n\n    /*Xoa san pham*/\n\n    case cartConst.DELETE_PRODUCT:\n      {\n        return { ...state\n        };\n      }\n\n    case cartConst.DELETE_PRODUCT_SUCCESS:\n      {\n        const {\n          data\n        } = action.payload;\n        let cart = data.value.$values;\n        console.log(\"cart\" + cart);\n        return {\n          cart: { ...state,\n            cart\n          }\n        };\n      }\n\n    case cartConst.DELETE_PRODUCT_FAILED:\n      {\n        myToast.toastError(\"Xoá sản phẩm hàng thất bại\");\n        console.log(\"thatbat\");\n        return { ...state\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/framework_IS220.M11_6/lavender/src/Components/redux/reducers/cart.js"],"names":["cartConst","myToast","initialState","cart","reducer","state","action","history","type","ADD_TO_LOGIN","push","ADD_TO_CART","ADD_TO_CART_SUCCESS","data","payload","product","toastSucces","ADD_TO_CART_FAILED","toastError","LOAD_CART","LOAD_CART_SUCCESS","value","$values","LOAD_CART_FAILED","console","log","JSON","stringify","DELETE_PRODUCT","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAILED"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,yBAA3B;AACA,OAAO,KAAKC,OAAZ,MAAyB,oCAAzB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE;AADa,CAArB;;AAGA,MAAMC,OAAO,GAAG,YAA2C;AAAA,MAA1CC,KAA0C,uEAAlCH,YAAkC;AAAA,MAApBI,MAAoB;AAAA,MAAZC,OAAY;;AACzD,UAAQD,MAAM,CAACE,IAAf;AACE,SAAKR,SAAS,CAACS,YAAf;AAA6B;AAC3BF,QAAAA,OAAO,CAACG,IAAR,CAAa,QAAb;AACA,eAAO,EAAE,GAAGL;AAAL,SAAP;AACD;;AACD,SAAKL,SAAS,CAACW,WAAf;AAA4B;AAC1B,eAAO,EAAE,GAAGN;AAAL,SAAP;AACD;;AACD,SAAKL,SAAS,CAACY,mBAAf;AAAoC;AAClC,cAAM;AAAEC,UAAAA;AAAF,YAAWP,MAAM,CAACQ,OAAP,CAAeD,IAAhC;AACA,cAAME,OAAO,GAAGF,IAAI,CAACE,OAArB;AACAd,QAAAA,OAAO,CAACe,WAAR,CAAoB,8BAApB;AACA,eAAO;AACLb,UAAAA,IAAI,EAAE,EAAE,GAAGE,KAAL;AAAYU,YAAAA;AAAZ;AADD,SAAP;AAGD;;AACD,SAAKf,SAAS,CAACiB,kBAAf;AAAmC;AACjChB,QAAAA,OAAO,CAACiB,UAAR,CAAmB,4BAAnB;AACA,eAAO,EAAE,GAAGb;AAAL,SAAP;AACD;;AAED,SAAKL,SAAS,CAACmB,SAAf;AAA0B;AACxB,eAAO,EAAE,GAAGd;AAAL,SAAP;AACD;;AACD,SAAKL,SAAS,CAACoB,iBAAf;AAAkC;AAChC,cAAM;AAAEP,UAAAA;AAAF,YAAWP,MAAM,CAACQ,OAAxB;AACA,YAAIX,IAAI,GAAGU,IAAI,CAACQ,KAAL,CAAWC,OAAtB;AAEA,eAAO;AACLnB,UAAAA,IAAI,EAAE,EAAE,GAAGE,KAAL;AAAYF,YAAAA,IAAI,EAACA;AAAjB;AADD,SAAP;AAGD;;AACD,SAAKH,SAAS,CAACuB,gBAAf;AAAiC;AAC/BtB,QAAAA,OAAO,CAACiB,UAAR,CAAmB,uBAAnB;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAYC,IAAI,CAACC,SAAL,CAAerB,MAAM,CAACQ,OAAtB,CAAxB;AACA,eAAO,EAAE,GAAGT;AAAL,SAAP;AACD;;AAED;;AAEA,SAAKL,SAAS,CAAC4B,cAAf;AAA+B;AAC7B,eAAO,EAAE,GAAGvB;AAAL,SAAP;AACD;;AACD,SAAKL,SAAS,CAAC6B,sBAAf;AAAuC;AACrC,cAAM;AAAEhB,UAAAA;AAAF,YAAWP,MAAM,CAACQ,OAAxB;AACA,YAAIX,IAAI,GAAGU,IAAI,CAACQ,KAAL,CAAWC,OAAtB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAOtB,IAAnB;AACA,eAAO;AACLA,UAAAA,IAAI,EAAE,EAAE,GAAGE,KAAL;AAAYF,YAAAA;AAAZ;AADD,SAAP;AAGD;;AACD,SAAKH,SAAS,CAAC8B,qBAAf;AAAsC;AACpC7B,QAAAA,OAAO,CAACiB,UAAR,CAAmB,4BAAnB;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,eAAO,EAAE,GAAGpB;AAAL,SAAP;AACD;;AACD;AACE,aAAOA,KAAP;AAzDJ;AA2DD,CA5DD;;AA6DA,eAAeD,OAAf","sourcesContent":["import * as cartConst from \"../constrants/cartConst\";\nimport * as myToast from \"../../../Common/helper/toastHelper\";\n\nconst initialState = {\n  cart: [],\n};\nconst reducer = (state = initialState, action, history) => {\n  switch (action.type) {\n    case cartConst.ADD_TO_LOGIN: {\n      history.push(\"/login\");\n      return { ...state };\n    }\n    case cartConst.ADD_TO_CART: {\n      return { ...state };\n    }\n    case cartConst.ADD_TO_CART_SUCCESS: {\n      const { data } = action.payload.data;\n      const product = data.product;\n      myToast.toastSucces(\"Thêm vào giỏ hàng thành công\");\n      return {\n        cart: { ...state, product }\n      };\n    }\n    case cartConst.ADD_TO_CART_FAILED: {\n      myToast.toastError(\"Thêm vào giỏ hàng thất bại\");\n      return { ...state };\n    }\n\n    case cartConst.LOAD_CART: {\n      return { ...state };\n    }\n    case cartConst.LOAD_CART_SUCCESS: {\n      const { data } = action.payload;\n      let cart=  data.value.$values ;\n     \n      return {\n        cart: { ...state, cart:cart},\n      };\n    }\n    case cartConst.LOAD_CART_FAILED: {\n      myToast.toastError(\"Tải giỏ hàng thất bại\");\n      console.log(\"errorcart\"+JSON.stringify(action.payload));\n      return { ...state };\n    }\n\n    /*Xoa san pham*/\n\n    case cartConst.DELETE_PRODUCT: {\n      return { ...state };\n    }\n    case cartConst.DELETE_PRODUCT_SUCCESS: {\n      const { data } = action.payload;\n      let cart=  data.value.$values ;\n      console.log(\"cart\"+cart);\n      return {\n        cart: { ...state, cart},\n      };\n    }\n    case cartConst.DELETE_PRODUCT_FAILED: {\n      myToast.toastError(\"Xoá sản phẩm hàng thất bại\");\n      console.log(\"thatbat\");\n      return { ...state };\n    }\n    default:\n      return state;\n  }\n};\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}