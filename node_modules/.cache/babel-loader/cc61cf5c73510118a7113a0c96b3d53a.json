{"ast":null,"code":"import * as cartApi from \"../../apis/cart\";\nimport * as cartConst from \"../constrants/cartConst\";\nexport const addToCart = history => {\n  return {\n    type: cartConst.ADD_TO_CART,\n    history: history\n  };\n};\nexport const addToCartSuccess = data => {\n  return {\n    type: cartConst.ADD_TO_CART_SUCCESS,\n    payload: {\n      data\n    }\n  };\n};\nexport const addToCartFailed = error => {\n  return {\n    type: cartConst.ADD_TO_CART_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const addToLogin = () => {\n  return {\n    type: cartConst.ADD_TO_LOGIN,\n    payload: {}\n  };\n};\nexport const addToCartReport = (req, history) => {\n  if (localStorage.setItem(\"hasLogined\", false)) return dispatch => {\n    dispatch(addToLogin(history));\n  };else {\n    return dispatch => {\n      cartApi.addToCart(req).then(res => {\n        if (res.status === 200) dispatch(addToCartSuccess(res));else dispatch(addToCartFailed(res));\n      }).catch(error => {\n        dispatch(addToCartFailed(error));\n      });\n    };\n  }\n};\n/* Xem gio hang */\n\nexport const loadCart = () => {\n  return {\n    type: cartConst.LOAD_CART\n  };\n};\nexport const loadCartSuccess = data => {\n  return {\n    type: cartConst.LOAD_CART_SUCCESS,\n    payload: {\n      data: data\n    }\n  };\n};\nexport const loadCartFailed = error => {\n  return {\n    type: cartConst.LOAD_CART_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const loadCartReport = customerid => {\n  let request = {\n    makhachhang: customerid\n  };\n  return dispatch => {\n    cartApi.loadCart(request).then(success => {\n      console.log(\"status\" + JSON.stringify(success));\n      if (success.status === 200) dispatch(loadCartSuccess(success.data)); // if (success.status === 200) {\n      //   dispatch(loadCartSuccess(success.data));\n      //   console.log(\"success\");\n      // }\n      // else if (success.status===404) {\n      //   dispatch(loadCart(success));\n      //   console.log(\"error404\");\n      // } \n      // else {dispatch(loadCartFailed(success));\n      //   console.log(\"errorother\");\n      // }\n    }).catch(error => {\n      dispatch(loadCartFailed(error));\n      console.log(\"error\");\n    });\n  };\n};\n/* Xoá sản phẩm trong giỏ hàng */\n\nexport const deleteProduct = () => {\n  return {\n    type: cartConst.DELETE_PRODUCT\n  };\n};\nexport const deleteProductSuccess = success => {\n  return {\n    type: cartConst.DELETE_PRODUCT_SUCCESS,\n    payload: {\n      data: success.data\n    }\n  };\n};\nexport const deleteProductFailed = error => {\n  return {\n    type: cartConst.DELETE_PRODUCT_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const deleteProductReport = (customerid, productid) => {\n  let request = {\n    customerid: customerid,\n    productid: productid\n  };\n  return dispatch => {\n    cartApi.deleteProduct(request).then(res => {\n      if (res.status === 200) {\n        console.log(\"200\");\n        dispatch(deleteProductSuccess(res));\n      } else if (res.status === 404) dispatch(deleteProduct(res));else {\n        dispatch(deleteProductFailed(res));\n      }\n    }).catch(error => {\n      console.log(\"error\" + JSON.stringify(error));\n      dispatch(deleteProductFailed(error));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/framework_IS220.M11_6/lavender/src/Components/redux/actions/cartAct.js"],"names":["cartApi","cartConst","addToCart","history","type","ADD_TO_CART","addToCartSuccess","data","ADD_TO_CART_SUCCESS","payload","addToCartFailed","error","ADD_TO_CART_FAILED","addToLogin","ADD_TO_LOGIN","addToCartReport","req","localStorage","setItem","dispatch","then","res","status","catch","loadCart","LOAD_CART","loadCartSuccess","LOAD_CART_SUCCESS","loadCartFailed","LOAD_CART_FAILED","loadCartReport","customerid","request","makhachhang","success","console","log","JSON","stringify","deleteProduct","DELETE_PRODUCT","deleteProductSuccess","DELETE_PRODUCT_SUCCESS","deleteProductFailed","DELETE_PRODUCT_FAILED","deleteProductReport","productid"],"mappings":"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","sourcesContent":["import * as cartApi from \"../../apis/cart\";\nimport * as cartConst from \"../constrants/cartConst\";\n\nexport const addToCart = (history) => {\n  return {\n    type: cartConst.ADD_TO_CART,\n    history: history,\n  };\n};\n\nexport const addToCartSuccess = (data) => {\n  return {\n    type: cartConst.ADD_TO_CART_SUCCESS,\n    payload: {\n      data,\n    },\n  };\n};\n\nexport const addToCartFailed = (error) => {\n  return {\n    type: cartConst.ADD_TO_CART_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const addToLogin = () => {\n  return {\n    type: cartConst.ADD_TO_LOGIN,\n    payload: {},\n  };\n};\n\nexport const addToCartReport = (req, history) => {\n  if (localStorage.setItem(\"hasLogined\", false))\n    return (dispatch) => {\n      dispatch(addToLogin(history));\n    };\n  else {\n    return (dispatch) => {\n      cartApi\n        .addToCart(req)\n        .then((res) => {\n          if (res.status === 200) dispatch(addToCartSuccess(res));\n          else dispatch(addToCartFailed(res));\n        })\n        .catch((error) => {\n          dispatch(addToCartFailed(error));\n        });\n    };\n  }\n};\n\n/* Xem gio hang */\nexport const loadCart = () => {\n  return {\n    type: cartConst.LOAD_CART\n  };\n};\n\nexport const loadCartSuccess = (data) => {\n  return {\n    type: cartConst.LOAD_CART_SUCCESS,\n    payload: {\n      data: data\n    },\n  };\n};\n\nexport const loadCartFailed = (error) => {\n  return {\n    type: cartConst.LOAD_CART_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const loadCartReport = (customerid) => {\n  let request = { makhachhang:customerid };\n  return (dispatch) => {\n    cartApi\n      .loadCart(request)\n      .then((success) => {\n        console.log(\"status\"+JSON.stringify(success));\n        if (success.status === 200) dispatch(loadCartSuccess(success.data));\n        // if (success.status === 200) {\n        //   dispatch(loadCartSuccess(success.data));\n        //   console.log(\"success\");\n        // }\n        // else if (success.status===404) {\n        //   dispatch(loadCart(success));\n        //   console.log(\"error404\");\n        // } \n        // else {dispatch(loadCartFailed(success));\n        //   console.log(\"errorother\");\n        // }\n      })\n      .catch((error) => {\n        dispatch(loadCartFailed(error));\n        console.log(\"error\");\n      });\n  };\n};\n\n/* Xoá sản phẩm trong giỏ hàng */\nexport const deleteProduct = () => {\n  return {\n    type: cartConst.DELETE_PRODUCT\n  };\n};\n\nexport const deleteProductSuccess = (success) => {\n  return {\n    type: cartConst.DELETE_PRODUCT_SUCCESS,\n    payload: {\n      data: success.data\n    },\n  };\n};\n\nexport const deleteProductFailed = (error) => {\n  return {\n    type: cartConst.DELETE_PRODUCT_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const deleteProductReport = (customerid, productid) => {\n  let request = { customerid:customerid, productid:productid };\n  return (dispatch) => {\n    cartApi\n      .deleteProduct(request)\n      .then((res) => {\n        if (res.status === 200) \n        {\n          console.log(\"200\");\n          dispatch(deleteProductSuccess(res));\n        }\n        else if (res.status===404) dispatch(deleteProduct(res));\n        else \n        {\n          dispatch(deleteProductFailed(res));\n        }\n      })\n      .catch((error) => {\n        console.log(\"error\"+JSON.stringify(error));\n        dispatch(deleteProductFailed(error));\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}