{"ast":null,"code":"import * as cartApi from \"../../apis/cart\";\nimport * as cartConst from \"../constrants/cartConst\";\nexport const addToCart = history => {\n  return {\n    type: cartConst.ADD_TO_CART,\n    history: history\n  };\n};\nexport const addToCartSuccess = data => {\n  return {\n    type: cartConst.ADD_TO_CART_SUCCESS,\n    payload: {\n      data\n    }\n  };\n};\nexport const addToCartFailed = error => {\n  return {\n    type: cartConst.ADD_TO_CART_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const addToLogin = () => {\n  return {\n    type: cartConst.ADD_TO_LOGIN,\n    payload: {}\n  };\n};\nexport const addToCartReport = (oldreq, history) => {\n  var req = {\n    email: oldreq.email,\n    password: oldreq.password,\n    productid: oldreq.product.$id\n  };\n  if (localStorage.setItem(\"hasLogined\", false)) return dispatch => {\n    dispatch(addToLogin(history));\n  };else {\n    return dispatch => {\n      cartApi.addToCart(req).then(res => {\n        if (res.status === 200) dispatch(addToCartSuccess(res));else dispatch(addToCartFailed(res));\n      }).catch(error => {\n        dispatch(addToCartFailed(error));\n      });\n    };\n  }\n};","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/framework_IS220.M11_6/lavender/src/Components/redux/actions/cartAct.js"],"names":["cartApi","cartConst","addToCart","history","type","ADD_TO_CART","addToCartSuccess","data","ADD_TO_CART_SUCCESS","payload","addToCartFailed","error","ADD_TO_CART_FAILED","addToLogin","ADD_TO_LOGIN","addToCartReport","oldreq","req","email","password","productid","product","$id","localStorage","setItem","dispatch","then","res","status","catch"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,iBAAzB;AACA,OAAO,KAAKC,SAAZ,MAA2B,yBAA3B;AAEA,OAAO,MAAMC,SAAS,GAAIC,OAAD,IAAa;AACpC,SAAO;AACLC,IAAAA,IAAI,EAAEH,SAAS,CAACI,WADX;AAELF,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,gBAAgB,GAAIC,IAAD,IAAU;AACxC,SAAO;AACLH,IAAAA,IAAI,EAAEH,SAAS,CAACO,mBADX;AAELC,IAAAA,OAAO,EAAE;AACPF,MAAAA;AADO;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,MAAMG,eAAe,GAAIC,KAAD,IAAW;AACxC,SAAO;AACLP,IAAAA,IAAI,EAAEH,SAAS,CAACW,kBADX;AAELH,IAAAA,OAAO,EAAE;AACPE,MAAAA;AADO;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,MAAME,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLT,IAAAA,IAAI,EAAEH,SAAS,CAACa,YADX;AAELL,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMM,eAAe,GAAG,CAACC,MAAD,EAASb,OAAT,KAAqB;AAClD,MAAIc,GAAG,GAAE;AAACC,IAAAA,KAAK,EAACF,MAAM,CAACE,KAAd;AAAqBC,IAAAA,QAAQ,EAACH,MAAM,CAACG,QAArC;AAA+CC,IAAAA,SAAS,EAACJ,MAAM,CAACK,OAAP,CAAeC;AAAxE,GAAT;AACA,MAAIC,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,KAAnC,CAAJ,EACE,OAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACZ,UAAU,CAACV,OAAD,CAAX,CAAR;AACD,GAFD,CADF,KAIK;AACH,WAAQsB,QAAD,IAAc;AACnBzB,MAAAA,OAAO,CACJE,SADH,CACae,GADb,EAEGS,IAFH,CAESC,GAAD,IAAS;AACb,YAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwBH,QAAQ,CAACnB,gBAAgB,CAACqB,GAAD,CAAjB,CAAR,CAAxB,KACKF,QAAQ,CAACf,eAAe,CAACiB,GAAD,CAAhB,CAAR;AACN,OALH,EAMGE,KANH,CAMUlB,KAAD,IAAW;AAChBc,QAAAA,QAAQ,CAACf,eAAe,CAACC,KAAD,CAAhB,CAAR;AACD,OARH;AASD,KAVD;AAWD;AACF,CAnBM","sourcesContent":["import * as cartApi from \"../../apis/cart\";\nimport * as cartConst from \"../constrants/cartConst\";\n\nexport const addToCart = (history) => {\n  return {\n    type: cartConst.ADD_TO_CART,\n    history: history,\n  };\n};\n\nexport const addToCartSuccess = (data) => {\n  return {\n    type: cartConst.ADD_TO_CART_SUCCESS,\n    payload: {\n      data,\n    },\n  };\n};\n\nexport const addToCartFailed = (error) => {\n  return {\n    type: cartConst.ADD_TO_CART_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const addToLogin = () => {\n  return {\n    type: cartConst.ADD_TO_LOGIN,\n    payload: {},\n  };\n};\n\nexport const addToCartReport = (oldreq, history) => {\n  var req= {email:oldreq.email, password:oldreq.password, productid:oldreq.product.$id};\n  if (localStorage.setItem(\"hasLogined\", false))\n    return (dispatch) => {\n      dispatch(addToLogin(history));\n    };\n  else {\n    return (dispatch) => {\n      cartApi\n        .addToCart(req)\n        .then((res) => {\n          if (res.status === 200) dispatch(addToCartSuccess(res));\n          else dispatch(addToCartFailed(res));\n        })\n        .catch((error) => {\n          dispatch(addToCartFailed(error));\n        });\n    };\n  }\n};\n"]},"metadata":{},"sourceType":"module"}